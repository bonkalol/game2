{"version":3,"sources":["Alert.js","App.js","Base.js","Content.js","Game.js","Language.js","Localstorage.js","Modals.js","Overlay.js","Parser.js","Player.js","PlayerContoller.js","Preloader.js","Render.js","Sidebar.js","Tests.js","Ui.js","VersionController.js","Library/Dom4.js","Library/DotJs.js","Library/Element.classList.js","Library/Library.js","Library/Sortable.js","Modals/Card.js","Modals/Continue.js","Modals/Language.js","Modals/Players.js","Modals/Rubrics.js","Modals/Rules.js","Modals/Settings.js"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["class Alert {\r\n\tconstructor() {\r\n\t\tthis.attr = {\r\n\t\t\tself: 'data-alert',\r\n\t\t\tcontent: 'data-alert-content'\r\n\t\t};\r\n\t\tthis.nodes = {\r\n\t\t\tself: document.querySelector(`[${this.attr.self}]`),\r\n\t\t\tcontent: document.querySelector(`[${this.attr.content}]`)\r\n\t\t};\r\n\t\tthis.setTimeout = null;\r\n\t\tthis.type = null;\r\n\t\tthis.transition = 400;\r\n\t\tthis.classes = ['js-visible'];\r\n\t\tthis.events();\r\n\t}\r\n\tshow(type, message,  constant = false, time = 3e3) {\r\n\t\tthis.type = type;\r\n\t\tthis.nodes.content.innerHTML = message;\r\n\t\tthis.nodes.self.classList.add(this.type);\r\n\t\tthis.nodes.self.classList.add(this.classes[0]);\r\n\t\tif (!constant) setTimeout(() => this.close(), time);\r\n\t}\r\n\tclose() {\r\n\t\tnew _.PromisedTimeOut(() => this.nodes.self.classList.remove(this.classes[0]), this.transition)\r\n\t\t\t.then(() => this.nodes.self.classList.remove(this.type));\r\n\t}\r\n\tevents() {\r\n\t\tthis.nodes.self.addEventListener('click', () => {\r\n\t\t\tthis.close();\r\n\t\t});\r\n\t}\r\n}\r\n","class App {\r\n\tconstructor() {\r\n\t\tthis.data = this.getInitialState();\r\n\t\tthis.attr = {\r\n\t\t\tgame: 'data-game',\r\n\t\t\tgetTruth: 'data-game=\"truth\"',\r\n\t\t\tgetAction: 'data-game=\"action\"',\r\n\t\t\tcurrentPlayer: 'data-currentplayer'\r\n\t\t};\r\n\t\tthis.nodes = {\r\n\t\t\tcurrentPlayer: document.querySelector(`[${this.attr.currentPlayer}]`),\r\n\t\t\tgetTruth: document.querySelector(`[${this.attr.getTruth}]`),\r\n\t\t\tgetAction: document.querySelector(`[${this.attr.getAction}]`),\r\n\t\t\tgame: document.querySelector(`[${this.game}]`)\r\n\t\t};\r\n\t\tthis.manager = {\r\n\t\t\tPlayerController: new PlayerController(),\r\n\t\t\tVersionController: new VersionController(),\r\n\t\t\tPreloader: new Preloader(),\r\n\t\t\tStorage: new Storage(),\r\n\t\t\tContent: new Content(),\r\n\t\t\tOverlay: new Overlay(),\r\n\t\t\tSidebar: new Sidebar(),\r\n\t\t\tRender: new Render(),\r\n\t\t\tAlert: new Alert(),\r\n\t\t\tModals: new Modals()\r\n\t\t};\r\n\t\tthis.online = navigator.onLine;\r\n\t\tthis.isUpdated = false; // Define is latest version of JSON loaded\r\n\t\tthis.language = 'en';\r\n\t}\r\n\r\n\tgetInitialState() {\r\n\t\treturn {\r\n\t\t\tstarted: false,\r\n\t\t\trubrics: [],\r\n\t\t\tplayers: [],\r\n\t\t\tpreviousPlayer: null,\r\n\t\t\tcurrentPlayer: null,\r\n\t\t\tsettings: {\r\n\t\t\t\trepeatContent: false,\r\n\t\t\t\talcohol: true,\r\n\t\t\t\tscore: true,\r\n\t\t\t\tstreak: 2,\r\n\t\t\t\tsex: 'hetero', // Possible 'hetero', 'homo', 'herma'\r\n\t\t\t\tsmartPick: true,\r\n\t\t\t\trandomPlayers: true,\r\n\t\t\t\tskip: false,\r\n\t\t\t\tcards: {\r\n\t\t\t\t\tgray: true,\r\n\t\t\t\t\tyellow: true,\r\n\t\t\t\t\tspecial: true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n","\r\n(function () {\r\n\twindow.addEventListener('load', (event) => {\r\n\t\t\twindow.App = new App();\r\n\t\t\tApp.manager.Game = new Game();\r\n\t}, false);\r\n})();","class Content {\r\n\r\n\tconstructor() {\r\n\t\tthis.content = null;\r\n\t\tthis.truth = [];\r\n\t\tthis.action = [];\r\n\t}\r\n\r\n\tset(data) {\r\n\t\tthis.content = data;\r\n\t}\r\n\r\n\tget(type) {\r\n\t\t// Get truth or action.\r\n\t}\r\n\r\n}","class Game {\r\n\tconstructor() {\r\n\t\tthis.check();\r\n\t\tthis.attr = {\r\n\t\t\tself: 'data-game-view',\r\n\t\t\tcontainer: 'data-game-container',\r\n\t\t\tstats: 'data-game-stats'\r\n\t\t};\r\n\t\tthis.nodes = {\r\n\t\t\tself: $(`[${this.attr.self}]`),\r\n\t\t\tcontainer: $(`[${this.attr.container}]`),\r\n\t\t\tstats: $(`[${this.attr.stats}]`)\r\n\t\t};\r\n\t\tthis.classes = {\r\n\t\t\thidden: 'js-hidden'\r\n\t\t};\r\n\t}\r\n\tcheck() {\r\n\t\tif (App.manager.Storage.get('Game') !== false) {\r\n\t\t\t// Show screen 0.\r\n\t\t\tthis.load();\r\n\t\t\tApp.manager.Render._screen0();\r\n\t\t\tApp.manager.Preloader.hide();\r\n\t\t} else {\r\n\t\t\t// Show screen 1.\r\n\t\t\tApp.manager.Render._screen1();\r\n\t\t\tApp.manager.VersionController.check();\r\n\t\t}\r\n\t}\r\n\tstart() {\r\n\t\t// Start game cycle.\r\n\t\tthis.nodes.self.classList.remove(this.classes.hidden);\r\n\t\tthis.init();\r\n\t\tthis.render();\r\n\t}\r\n\trestart() {\r\n\r\n\t}\r\n\tcontinue() {\r\n\r\n\t}\r\n\trender() {\r\n\t\tthis.nodes.stats.innerHTML = App.manager.Render.stats();\r\n\t\tthis.nodes.container.innerHTML = App.manager.Render.game();\r\n\t}\r\n\tload() {\r\n\t\tlet game = this.manager.Storage.get('Game');\r\n\t\tthis.data = game;\r\n\t}\r\n\tsave() {\r\n\t\tthis.manager.Storage.set('Game', this.data);\r\n\t}\r\n\tinit() {\r\n\t\tconst settings = App.data.settings;\r\n\r\n\t\tif (settings.randomPlayers) {\r\n\t\t\tApp.data.currentPlayer = App.manager.PlayerController.getRandom();\r\n\t\t} else {\r\n\t\t\tApp.data.currentPlayer = App.manager.PlayerController.get(0);\r\n\t\t}\r\n\t}\r\n}\r\n","window.Language =  {\r\n\tru: {\r\n\t\tbadinternet: '.  -  :(.    .',\r\n\t\tplayers: {\r\n\t\t\texist: '     ,     .'\r\n\t\t}\r\n\t},\r\n\r\n\ten: {\r\n\t\tbadinternet: 'Ooops. Some error happen :(. Check your internet connection.',\r\n\t\tplayers: {\r\n\t\t\texist: 'Player with this name is allready exist, please, create players with uniq names.'\r\n\t\t}\r\n\t}\r\n};","/*\r\n\r\n\tWrapper for localStorage\r\n\r\n*/\r\nclass Storage {\r\n\r\n\tget(name) {\r\n\t\tif (localStorage.getItem(name) !== null && typeof localStorage.getItem(name) !== 'undefined') {\r\n\t\t\t\treturn JSON.parse(localStorage.getItem(name));\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tset(name, value) {\r\n\t\tlocalStorage.setItem(name, JSON.stringify(value));\r\n\t}\r\n\r\n}\r\n","class Modal {\r\n\tconstructor(self) {\r\n\t\t_.required([\r\n\t\t\tself\r\n\t\t]);\r\n\t\tthis.attr = {\r\n\t\t\tself: self,\r\n\t\t\taction: 'data-modal-action',\r\n\t\t\tstatus: 'data-modal-status'\r\n\t\t};\r\n\t\tthis.baseClasses = ['js-disabled', 'js-finished', 'js-close', 'transition'];\r\n\t\tthis.buttons = this.__buttons();\r\n\t\tif (this.__events) this.__events();\r\n\t}\r\n\tgetStatus() {\r\n\t\treturn JSON.parse(this.getView().getAttribute(this.attr.status));\r\n\t}\r\n\tgetView() {\r\n\t\treturn $(`[${this.attr.self}]`);\r\n\t}\r\n\tnext() {\r\n\t\tif (typeof this.beforeNext === 'function') this.beforeNext();\r\n\t\tthis.getView().classList.add(this.baseClasses[3]);\r\n\t\tthis.getView().classList.add(this.baseClasses[1]);\r\n\t}\r\n\tprev() {\r\n\t\tthis.getView().classList.add(this.baseClasses[3]);\r\n\t\tthis.getView().previousSibling.classList.remove(this.baseClasses[1]);\r\n\t}\r\n\tclose() {\r\n\t\tthis.getView().classList.add(this.baseClasses[3]);\r\n\t\tthis.getView().classList.add(this.baseClasses[2]);\r\n\t}\r\n\tsave() {\r\n\t\t/*\r\n\t\t\t@Custom for every popup\r\n\t\t\t@Defined in popups\r\n\t\t*/\r\n\t}\r\n\t__buttons() {\r\n\t\treturn {\r\n\t\t\tenable: () => {\r\n\t\t\t\tthis.getView().$(`[${this.attr.action}]`)[0].classList.remove(this.classes[0]);\r\n\t\t\t},\r\n\t\t\tdisable: () => {\r\n\t\t\t\tthis.getView().$(`[${this.attr.action}]`)[0].classList.add(this.classes[0]);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n\r\nclass Modals {\r\n\tconstructor() {\r\n\t\tthis.language = new LanguageModal();\r\n\t\tthis.players = new PlayerModal();\r\n\t\tthis.rubrics = new RubricsModal();\r\n\t\tthis.settings = new SettingsModal();\r\n\t\tthis.rules = new RulesModal();\r\n\t\tthis.continue = new ContinueModal();\r\n\t\tthis.card = new CardModal();\r\n\r\n\t\tthis.TOUCH_TYPES = ['touchstart', 'touchmove', 'touchend'];\r\n\t\tthis.attr = {\r\n\t\t\taction: 'data-modal-action',\r\n\t\t\tself: 'data-modals-view',\r\n\t\t\tmodals: 'data-modals-modal'\r\n\t\t};\r\n\t\tthis.nodes = {\r\n\t\t\tself: $(`[${this.attr.self}]`)\r\n\t\t};\r\n\t\tthis.classes = {\r\n\t\t\thidden: 'js-hidden',\r\n\t\t\ttransition: 'transition',\r\n\t\t\tfinished: 'js-finished'\r\n\t\t};\r\n\t\tthis.delta = {\r\n\t\t\tstart: null,\r\n\t\t\tend: null,\r\n\t\t\tcounter: 0\r\n\t\t};\r\n\t\tthis.__events();\r\n\t}\r\n\tgetCurrent() {\r\n\t\treturn $(`[${this.attr.modals}]:not(.js-finished)`);\r\n\t}\r\n\tparseAction(attr) {\r\n\t\tlet parsed = attr.split(':');\r\n\t\treturn parsed;\r\n\t}\r\n\tdispatcher(name, action, event) {\r\n\t\tthis[name][action](event);\r\n\t}\r\n\thide() {\r\n\t\tthis.nodes.self.classList.add(this.classes.hidden);\r\n\t}\r\n\tshow() {\r\n\t\tthis.nodes.self.classList.remove(this.classes.hidden);\r\n\t}\r\n\thandleTouch(event) {\r\n\t\tlet current = this.getCurrent(),\r\n\t\t\tname = current.getAttribute(this.attr.modals),\r\n\t\t\tcanSwipeToNext = current.nextSibling && this[name].getStatus();\r\n\t\tcurrent.classList.remove(this.classes.transition);\r\n\t\tif (event.type === this.TOUCH_TYPES[0]) {\r\n\t\t\tthis.delta.start = event.touches[0].clientX;\r\n\t\t\tthis.nodes.self.classList.remove(this.classes.transition);\r\n\t\t}\r\n\t\tif (event.type === this.TOUCH_TYPES[1]) {\r\n\t\t\tif (this.delta.start - event.touches[0].clientX > 10 && canSwipeToNext) { //      \r\n\t\t\t\tthis.delta.counter = this.delta.start - event.touches[0].clientX;\r\n\t\t\t\tcurrent.style.transform = `translate(calc(-50% - ${this.delta.counter}px), -50%)`;\r\n\t\t\t} else if (this.delta.start - event.touches[0].clientX < 10)  {\r\n\t\t\t\tthis.delta.counter = this.delta.start - event.touches[0].clientX;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (event.type === this.TOUCH_TYPES[2]) {\r\n\t\t\tthis.delta.counter > 80 ? this.next(current) : this.back(current);\r\n\t\t\tthis.delta.counter < -80 ? this.previous(current) : void(0);\r\n\t\t\tthis.delta.counter = 0;\r\n\t\t}\r\n\t}\r\n\tnext(current) {\r\n\t\tcurrent.classList.add(this.classes.transition);\r\n\t\tcurrent.classList.add(this.classes.finished);\r\n\t\tthis.reset(current);\r\n\t}\r\n\tprevious(current) {\r\n\t\tlet prev = current.previousSibling;\r\n\t\tif (prev) {\r\n\t\t\tprev.classList.remove(this.classes.finished);\r\n\t\t}\r\n\t}\r\n\tback(current) {\r\n\t\tcurrent.classList.add(this.classes.transition);\r\n\t\tcurrent.style.transform = null;\r\n\t}\r\n\treset(current) {\r\n\t\tcurrent.style.transform = null;\r\n\t}\r\n\t__events() {\r\n\t\tdocument.addEventListener('mousedown', (event) => {\r\n\t\t\tlet closest = event.target.closest(`[${this.attr.action}]`);\r\n\t\t\tif (closest) {\r\n\t\t\t\tlet parsed = this.parseAction(closest.getAttribute(this.attr.action));\r\n\t\t\t\tthis.dispatcher(parsed[0], parsed[1], event);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.TOUCH_TYPES.forEach((touch) => {\r\n\t\t\tthis.nodes.self.addEventListener(touch, (event) => {\r\n\t\t\t\tthis.handleTouch(event);\r\n\t\t\t});\r\n\t\t}, false);\r\n\t}\r\n}\r\n","\r\nclass Overlay {\r\n\r\n\tconstructor() {\r\n\t\tthis.enum =\r\n\t\tthis.self = document.querySelector('[data-overlay]');\r\n\t\tthis.states = ['hidden', 'active'];\r\n\t\tthis.listener = null;\r\n\t\tthis.transition = 500;\r\n\t}\r\n\r\n\tshow(callback = null, onCloseCallback = null) {\r\n\t\tlet Overlay = this;\r\n\t\tthis.self.classList.remove(this.states[0]);\r\n\t\tthis.self.classList.add(this.states[1]);\r\n\t\tif (_.isFunc(onCloseCallback)) {\r\n\t\t\tthis.self.addEventListener('mousedown', (event) => {\r\n\t\t\t\tOverlay.close(null, onCloseCallback);\r\n\t\t\t\tOverlay.listener = onCloseCallback;\r\n\t\t\t\tOverlay.listener();\r\n\t\t\t});\r\n\t\t}\r\n\t\tlet timeout = setTimeout( () => {\r\n\t\t\tif (_.isFunc(callback)) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t}, this.transition);\r\n\t}\r\n\r\n\tclose(callback = null, onCloseCallback = null) {\r\n\t\tthis.self.classList.remove(this.states[1]);\r\n\t\tif (_.isFunc(this.listener)) {\r\n\t\t\tthis.self.removeEventListener('mousedown', onCloseCallback, false);\r\n\t\t\tthis.listener = null;\r\n\t\t}\r\n\t\tlet timeout = setTimeout( () => {\r\n\t\t\tthis.self.classList.add(this.states[0]);\r\n\t\t\tif (_.isFunc(callback)) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t}, this.transition);\r\n\t}\r\n}\r\n","","/*\r\n\r\n\tState\r\n\t0 -   \r\n\t1 -  \r\n\r\n\tPickRate\r\n\t        \r\n\r\n*/\r\n\r\nclass Player {\r\n\tconstructor(props) {\r\n\t\tthis.props = {};\r\n\t\tif (props.id) {\r\n\t\t\t_.setProps(this, props);\r\n\t\t} else {\r\n\t\t\tthis.initProps(props);\r\n\t\t}\r\n\t}\r\n\tinitProps(props) {\r\n\t\tthis.name = props.name;\r\n\t\tthis.gender = props.gender;\r\n\t\tthis.pickRate = 0;\r\n\t\tthis.score = 0;\r\n\t\tthis.id = _.getRandom();\r\n\t\tthis.streak = {\r\n\t\t\taction: 0,\r\n\t\t\ttruth: 0\r\n\t\t}\r\n\t}\r\n}\r\n","class PlayerController {\r\n\tconstructor() {\r\n\t\tthis.classes = {\r\n\t\t\tscore: {\r\n\t\t\t\teq: 'eq',\r\n\t\t\t\tmore: 'more',\r\n\t\t\t\tless: 'less'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tcreate(name, gender) {\r\n\t\treturn App.data.players.push(new Player({\r\n\t\t\tname,\r\n\t\t\tgender\r\n\t\t}));\r\n\t}\r\n\tremove(id) {\r\n\t\tlet index = App.data.players.indexOf(_.getByKeyValue(App.data.players, 'id', id));\r\n\t\tif (App.data.players[index].current)\r\n\t\treturn App.data.players.splice(index, 1);\r\n\t}\r\n\texist(name) {\r\n\t\treturn _.getByKeyValue(App.data.players, 'name', name);\r\n\t}\r\n\tget(id) {\r\n\t\treturn App.data.players[id];\r\n\t}\r\n\tgetScoreBoard() {\r\n\t\treturn App.data.players.sort((x, y) => {\r\n\t\t\treturn x.score < y.score;\r\n\t\t})[0];\r\n\t}\r\n\tgetAssistent() {\r\n\t\t//    (   )\r\n\t\t// return instanceof Player\r\n\t}\r\n\tgetScoreClass(score) {\r\n\t\t_.required(score);\r\n\t\tlet className = this.classes.score.eq;\r\n\t\tif (score > 0) className = this.classes.score.more;\r\n\t\telse if (score < 0) className = this.classes.score.less;\r\n\t\treturn className;\r\n\t}\r\n\tgetNext() {\r\n\t\t//     ,      \r\n\t\t//   pickrate\r\n\t\t// return instanceof Player\r\n\t\tApp.data.currentPlayer.pickRate++;\r\n\t\tApp.data.previousPlayer = App.data.currentPlayer;\r\n\t\tconst settings = App.data.settings;\r\n\t\tif (settings.randomPlayers) {\r\n\t\t\tApp.data.currentPlayer = this.getRandomPickRate();\r\n\t\t} else {\r\n\t\t\tApp.data.currentPlayer = this.getNextPlayer();\r\n\t\t}\r\n\t\treturn App.data.currentPlayer;\r\n\t}\r\n\tgetRandom() {\r\n\t\tconst max = App.data.players.length - 1, random = _.getRandomInt(0, max);\r\n\t\treturn App.data.players[random];\r\n\t}\r\n\tgetRandomPickRate() {\r\n\t\t//   \r\n\t\t//   pickrate\r\n\t\t// return instanceof Player\r\n\t\treturn App.data.players.sort((x, y) => {\r\n\t\t\treturn x.pickRate > y.pickRate;\r\n\t\t})[0];\r\n\t}\r\n\tgetNextPlayer() {\r\n\t\tconst indexOfPlayer = App.data.players.indexOf(App.data.currentPlayer);\r\n\t\tif (App.data.players[indexOfPlayer + 1]) {\r\n\t\t\treturn App.data.players[indexOfPlayer + 1];\r\n\t\t} else {\r\n\t\t\treturn App.data.players[0];\r\n\t\t}\r\n\t}\r\n\tgetLeader() {\r\n\t\t//    \r\n\t\t// return array instanceof Player\r\n\t\tlet winner = App.data.players[0];\r\n\t\tApp.data.players.forEach(player => {\r\n\t\t\tif (player.score > winner.score) winner = player;\r\n\t\t});\r\n\t\treturn winner;\r\n\t}\r\n\tgetLoser() {\r\n\t\t//    \r\n\t\t// return instanceof Player\r\n\t\tlet loser = App.data.players[0];\r\n\t\tApp.data.players.forEach(player => {\r\n\t\t\tif (player.score < loser.score) loser = player;\r\n\t\t});\r\n\t\treturn loser;\r\n\t}\r\n}\r\n","class Preloader {\r\n\tconstructor() {\r\n\t\tthis.attr = {\r\n\t\t\tpreloader: 'data-preloader'\r\n\t\t};\r\n\t\tthis.nodes = {\r\n\t\t\tpreloader: document.querySelector(`[${this.attr.preloader}]`)\r\n\t\t};\r\n\t\tthis.classes = ['opacity', 'hidden'];\r\n\t\tthis.transition = 300;\r\n\t}\r\n\tshow() {\r\n\t\tthis.nodes.preloader.classList.remove(this.classes[0]);\r\n\t\tthis.nodes.preloader.classList.remove(this.classes[1]);\r\n\t}\r\n\thide() {\r\n\t\tthis.nodes.preloader.classList.add(this.classes[0]);\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.nodes.preloader.classList.add(this.classes[1]);\r\n\t\t}, this.transition);\r\n\t}\r\n}","class Render {\r\n\r\n\tconstructor() {\r\n\t\tthis.views = {\r\n\t\t\tmodals:      $('[data-modals-view]'),\r\n\t\t\tgamePlayers: $('[data-game-players]'),\r\n\t\t\tmain: null\r\n\t\t};\r\n\t\tthis.templates = {\r\n\t\t\tplayers:     \t$('#modal_players'),\r\n\t\t\trubrics:     \t$('#modal_rubrics'),\r\n\t\t\trubricsFooter:\t$('#modal_rubrics_footer'),\r\n\t\t\tsettings:    \t$('#modal_settings'),\r\n\t\t\trules:       \t$('#modal_rules'),\r\n\t\t\tcontinue:    \t$('#modal_continue'),\r\n\t\t\tcard:        \t$('#modal_card'),\r\n\t\t\tstats:       \t$('#stats'),\r\n\t\t\tgame:\t\t\t$('#game')\r\n\t\t};\r\n\t}\r\n\r\n\trender(template, object) {\r\n\t\tlet view = template.innerHTML;\r\n\t\t\tview = doT.template(view);\r\n\t\t\tview = view(object);\r\n\t\treturn view;\r\n\t}\r\n\r\n\t/*\r\n\t\tParts\r\n\t*/\r\n\tmodalPlayers() {\r\n\t\tlet players = this.render(this.templates.players, App.data);\r\n\t\treturn players;\r\n\t}\r\n\r\n\tmodalRubrics() {\r\n\t\tlet rubrics = this.render(this.templates.rubrics, App.data);\r\n\t\treturn rubrics;\r\n\t}\r\n\r\n\tmodalSettings() {\r\n\t\tlet settings = this.render(this.templates.settings, App.data);\r\n\t\treturn settings;\r\n\t}\r\n\r\n\tmodalRules() {\r\n\t\tlet rules = this.render(this.templates.rules, App.data);\r\n\t\treturn rules;\r\n\t}\r\n\r\n\tmodalContinue() {\r\n\t\tlet gameContinue = this.render(this.templates.continue, App.manager.Storage.get('Game'));\r\n\t\treturn gameContinue;\r\n\t}\r\n\r\n\trubricsFooter() {\r\n\t\tlet rubricsFooter = this.render(this.templates.rubricsFooter, App.data);\r\n\t\treturn rubricsFooter;\r\n\t}\r\n\r\n\tstats() {\r\n\t\tlet stats = this.render(this.templates.stats, App.data);\r\n\t\treturn stats;\r\n\t}\r\n\r\n\tgame() {\r\n\t\treturn this.render(this.templates.game, App.data);\r\n\t}\r\n\r\n\t/*\r\n\t\tScreens\r\n\t*/\r\n\t_screen0() {\r\n\t\tthis.views.modals.innerHTML = this.modalContinue();\r\n\t}\r\n\r\n\t_screen1() {\r\n\t\tlet rendered = '',\r\n\t\t\tviews = [\r\n\t\t\t\tthis.modalPlayers(),\r\n\t\t\t\tthis.modalRubrics(),\r\n\t\t\t\tthis.modalSettings(),\r\n\t\t\t\tthis.modalRules()\r\n\t\t\t];\r\n\t\tviews.forEach((view) => {\r\n\t\t\trendered += view;\r\n\t\t});\r\n\t\tthis.views.modals.innerHTML = rendered;\r\n\t}\r\n\r\n}\r\n","class Sidebar {\r\n\tconstructor() {\r\n\t\tthis.attr = {\r\n\t\t\tself: 'data-sidebar',\r\n\t\t\tbutton: 'data-open-sidebar'\r\n\t\t};\r\n\t\tthis.enum = Object.freeze({\r\n\t\t\tclosed: 'closed',\r\n\t\t\topened: 'opened'\r\n\t\t});\r\n\t\tthis.self = document.querySelector(`[${this.attr.self}]`);\r\n\t\tthis.state = this.enum.closed;\r\n\t\tthis.__events();\r\n\t}\r\n\tcheck() {\r\n\t\tif (this.state === this.enum.closed) {\r\n\t\t\tthis.open();\r\n\t\t} else {\r\n\t\t\tthis.close();\r\n\t\t}\r\n\t}\r\n\topen() {\r\n\t\tthis.state = this.enum.opened;\r\n\t\tApp.manager.Overlay.show(null, this.close.bind(this));\r\n\t\tthis.self.classList.add(this.enum.opened);\r\n\t}\r\n\tclose() {\r\n\t\tthis.state = this.enum.closed;\r\n\t\tthis.self.classList.remove(this.enum.opened);\r\n\t}\r\n\t__events() {\r\n\t\tdocument.addEventListener('mousedown', (event) => {\r\n\t\t\tif (event.target.closest(`[${this.attr.button}]`)) this.check();\r\n\t\t}, false);\r\n\t}\r\n}\r\n","","","class VersionController {\r\n\tcheck() {\r\n\t\tthis.version = App.manager.Storage.get('JV');\r\n\t\tif (this.version === false) {\r\n\t\t\tthis.load();\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (App.online === true && JV === this.version) {\r\n\t\t\t// Don't update\r\n\t\t\tthis.storage();\r\n\t\t} else if (App.online === true && JV !== this.version) {\r\n\t\t\tthis.load();\r\n\t\t}\r\n\t}\r\n\tload(requestFailed = false) {\r\n\t\tlet request = new XMLHttpRequest();\r\n\t\trequest.open('GET', 'data/response.json', true);\r\n\t\trequest.send();\r\n\t\trequest.onreadystatechange = () => {\r\n\t\t\tif (request.readyState !== 4) return;\r\n\t\t\tif (request.status === 200) {\r\n\t\t\t\tApp.isUpdated = true;\r\n\t\t\t\tApp.manager.Storage.set('JV', JV);\r\n\t\t\t\tApp.manager.Storage.set('content', request.responseText);\r\n\t\t\t\tApp.manager.Content.set(JSON.parse(request.responseText));\r\n\t\t\t\tApp.manager.Preloader.hide();\r\n\t\t\t} else if (this.version !== false && requestFailed === false) {\r\n\t\t\t\tthis.storage(true);\r\n\t\t\t} else if (this.version === false && requestFailed === false) {\r\n\t\t\t\tApp.manager.Alert.show('error', Language[App.language].badinternet, true);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\tstorage(requestFailed = false) {\r\n\t\tlet content = App.manager.Storage.get('content');\r\n\t\tif (content) {\r\n\t\t\tApp.isUpdated = true;\r\n\t\t\tApp.manager.Content.set(content);\r\n\t\t\tApp.manager.Preloader.hide();\r\n\t\t} else {\r\n\t\t\tthis.load(requestFailed);\r\n\t\t}\r\n\t}\r\n}","if (typeof Element.prototype.matches !== 'function') {\r\n\tElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.webkitMatchesSelector || function matches(selector) {\r\n\t\tvar element = this;\r\n\t\tvar elements = (element.document || element.ownerDocument).querySelectorAll(selector);\r\n\t\tvar index = 0;\r\n\r\n\t\twhile (elements[index] && elements[index] !== element) {\r\n\t\t\t++index;\r\n\t\t}\r\n\r\n\t\treturn Boolean(elements[index]);\r\n\t};\r\n}\r\nif (typeof Element.prototype.closest !== 'function') {\r\n\tElement.prototype.closest = function closest(selector) {\r\n\t\tvar element = this;\r\n\r\n\t\twhile (element && element.nodeType === 1) {\r\n\t\t\tif (element.matches(selector)) {\r\n\t\t\t\treturn element;\r\n\t\t\t}\r\n\r\n\t\t\telement = element.parentNode;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t};\r\n}\r\n\r\nif (typeof Element.prototype.remove !== 'function') {\r\n\tElement.prototype.remove = function() {\r\n\t\tif (this.parentNode) {\r\n\t\t\tthis.parentNode.removeChild(this);\r\n\t\t}\r\n\t};\r\n}","/* Laura Doktorova https://github.com/olado/doT */\r\n(function(){function p(b,a,d){return(\"string\"===typeof a?a:a.toString()).replace(b.define||h,function(a,c,e,g){0===c.indexOf(\"def.\")&&(c=c.substring(4));c in d||(\":\"===e?(b.defineParams&&g.replace(b.defineParams,function(a,b,l){d[c]={arg:b,text:l}}),c in d||(d[c]=g)):(new Function(\"def\",\"def['\"+c+\"']=\"+g))(d));return\"\"}).replace(b.use||h,function(a,c){b.useParams&&(c=c.replace(b.useParams,function(a,b,c,l){if(d[c]&&d[c].arg&&l)return a=(c+\":\"+l).replace(/'|\\\\/g,\"_\"),d.__exp=d.__exp||{},d.__exp[a]=\r\nd[c].text.replace(new RegExp(\"(^|[^\\\\w$])\"+d[c].arg+\"([^\\\\w$])\",\"g\"),\"$1\"+l+\"$2\"),b+\"def.__exp['\"+a+\"']\"}));var e=(new Function(\"def\",\"return \"+c))(d);return e?p(b,e,d):e})}function k(b){return b.replace(/\\\\('|\\\\)/g,\"$1\").replace(/[\\r\\t\\n]/g,\" \")}var f={version:\"1.0.3\",templateSettings:{evaluate:/\\{\\{([\\s\\S]+?(\\}?)+)\\}\\}/g,interpolate:/\\{\\{=([\\s\\S]+?)\\}\\}/g,encode:/\\{\\{!([\\s\\S]+?)\\}\\}/g,use:/\\{\\{#([\\s\\S]+?)\\}\\}/g,useParams:/(^|[^\\w$])def(?:\\.|\\[[\\'\\\"])([\\w$\\.]+)(?:[\\'\\\"]\\])?\\s*\\:\\s*([\\w$\\.]+|\\\"[^\\\"]+\\\"|\\'[^\\']+\\'|\\{[^\\}]+\\})/g,\r\ndefine:/\\{\\{##\\s*([\\w\\.$]+)\\s*(\\:|=)([\\s\\S]+?)#\\}\\}/g,defineParams:/^\\s*([\\w$]+):([\\s\\S]+)/,conditional:/\\{\\{\\?(\\?)?\\s*([\\s\\S]*?)\\s*\\}\\}/g,iterate:/\\{\\{~\\s*(?:\\}\\}|([\\s\\S]+?)\\s*\\:\\s*([\\w$]+)\\s*(?:\\:\\s*([\\w$]+))?\\s*\\}\\})/g,varname:\"it\",strip:!0,append:!0,selfcontained:!1,doNotSkipEncoded:!1},template:void 0,compile:void 0},m;f.encodeHTMLSource=function(b){var a={\"&\":\"&#38;\",\"<\":\"&#60;\",\">\":\"&#62;\",'\"':\"&#34;\",\"'\":\"&#39;\",\"/\":\"&#47;\"},d=b?/[&<>\"'\\/]/g:/&(?!#?\\w+;)|<|>|\"|'|\\//g;return function(b){return b?\r\nb.toString().replace(d,function(b){return a[b]||b}):\"\"}};m=function(){return this||(0,eval)(\"this\")}();\"undefined\"!==typeof module&&module.exports?module.exports=f:\"function\"===typeof define&&define.amd?define(function(){return f}):m.doT=f;var r={start:\"'+(\",end:\")+'\",startencode:\"'+encodeHTML(\"},s={start:\"';out+=(\",end:\");out+='\",startencode:\"';out+=encodeHTML(\"},h=/$^/;f.template=function(b,a,d){a=a||f.templateSettings;var n=a.append?r:s,c,e=0,g;b=a.use||a.define?p(a,b,d||{}):b;b=(\"var out='\"+(a.strip?\r\nb.replace(/(^|\\r|\\n)\\t* +| +\\t*(\\r|\\n|$)/g,\" \").replace(/\\r|\\n|\\t|\\/\\*[\\s\\S]*?\\*\\//g,\"\"):b).replace(/'|\\\\/g,\"\\\\$&\").replace(a.interpolate||h,function(b,a){return n.start+k(a)+n.end}).replace(a.encode||h,function(b,a){c=!0;return n.startencode+k(a)+n.end}).replace(a.conditional||h,function(b,a,c){return a?c?\"';}else if(\"+k(c)+\"){out+='\":\"';}else{out+='\":c?\"';if(\"+k(c)+\"){out+='\":\"';}out+='\"}).replace(a.iterate||h,function(b,a,c,d){if(!a)return\"';} } out+='\";e+=1;g=d||\"i\"+e;a=k(a);return\"';var arr\"+\r\ne+\"=\"+a+\";if(arr\"+e+\"){var \"+c+\",\"+g+\"=-1,l\"+e+\"=arr\"+e+\".length-1;while(\"+g+\"<l\"+e+\"){\"+c+\"=arr\"+e+\"[\"+g+\"+=1];out+='\"}).replace(a.evaluate||h,function(a,b){return\"';\"+k(b)+\"out+='\"})+\"';return out;\").replace(/\\n/g,\"\\\\n\").replace(/\\t/g,\"\\\\t\").replace(/\\r/g,\"\\\\r\").replace(/(\\s|;|\\}|^|\\{)out\\+='';/g,\"$1\").replace(/\\+''/g,\"\");c&&(a.selfcontained||!m||m._encodeHTML||(m._encodeHTML=f.encodeHTMLSource(a.doNotSkipEncoded)),b=\"var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : (\"+f.encodeHTMLSource.toString()+\r\n\"(\"+(a.doNotSkipEncoded||\"\")+\"));\"+b);try{return new Function(a.varname,b)}catch(q){throw\"undefined\"!==typeof console&&console.log(\"Could not create a template function: \"+b),q;}};f.compile=function(b,a){return f.template(b,null,a)}})();\r\n","if(\"document\" in self){if(!(\"classList\" in document.createElement(\"_\"))){(function(j){\"use strict\";if(!(\"Element\" in j)){return}var a=\"classList\",f=\"prototype\",m=j.Element[f],b=Object,k=String[f].trim||function(){return this.replace(/^\\s+|\\s+$/g,\"\")},c=Array[f].indexOf||function(q){var p=0,o=this.length;for(;p<o;p++){if(p in this&&this[p]===q){return p}}return -1},n=function(o,p){this.name=o;this.code=DOMException[o];this.message=p},g=function(p,o){if(o===\"\"){throw new n(\"SYNTAX_ERR\",\"An invalid or illegal string was specified\")}if(/\\s/.test(o)){throw new n(\"INVALID_CHARACTER_ERR\",\"String contains an invalid character\")}return c.call(p,o)},d=function(s){var r=k.call(s.getAttribute(\"class\")||\"\"),q=r?r.split(/\\s+/):[],p=0,o=q.length;for(;p<o;p++){this.push(q[p])}this._updateClassName=function(){s.setAttribute(\"class\",this.toString())}},e=d[f]=[],i=function(){return new d(this)};n[f]=Error[f];e.item=function(o){return this[o]||null};e.contains=function(o){o+=\"\";return g(this,o)!==-1};e.add=function(){var s=arguments,r=0,p=s.length,q,o=false;do{q=s[r]+\"\";if(g(this,q)===-1){this.push(q);o=true}}while(++r<p);if(o){this._updateClassName()}};e.remove=function(){var t=arguments,s=0,p=t.length,r,o=false,q;do{r=t[s]+\"\";q=g(this,r);while(q!==-1){this.splice(q,1);o=true;q=g(this,r)}}while(++s<p);if(o){this._updateClassName()}};e.toggle=function(p,q){p+=\"\";var o=this.contains(p),r=o?q!==true&&\"remove\":q!==false&&\"add\";if(r){this[r](p)}if(q===true||q===false){return q}else{return !o}};e.toString=function(){return this.join(\" \")};if(b.defineProperty){var l={get:i,enumerable:true,configurable:true};try{b.defineProperty(m,a,l)}catch(h){if(h.number===-2146823252){l.enumerable=false;b.defineProperty(m,a,l)}}}else{if(b[f].__defineGetter__){m.__defineGetter__(a,i)}}}(self))}else{(function(){var b=document.createElement(\"_\");b.classList.add(\"c1\",\"c2\");if(!b.classList.contains(\"c2\")){var c=function(e){var d=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(h){var g,f=arguments.length;for(g=0;g<f;g++){h=arguments[g];d.call(this,h)}}};c(\"add\");c(\"remove\")}b.classList.toggle(\"c3\",false);if(b.classList.contains(\"c3\")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(d,e){if(1 in arguments&&!this.contains(d)===!e){return e}else{return a.call(this,d)}}}b=null}())}};","if (!Object.assign) {\r\n\tObject.defineProperty(Object, 'assign', {\r\n\t\tenumerable: false,\r\n\t\tconfigurable: true,\r\n\t\twritable: true,\r\n\t\tvalue: function(target, firstSource) {\r\n\t\t\t'use strict';\r\n\t\t\tif (target === undefined || target === null) {\r\n\t\t\t\tthrow new TypeError('Cannot convert first argument to object');\r\n\t\t\t}\r\n\r\n\t\t\tvar to = Object(target);\r\n\t\t\tfor (var i = 1; i < arguments.length; i++) {\r\n\t\t\t\tvar nextSource = arguments[i];\r\n\t\t\t\tif (nextSource === undefined || nextSource === null) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar keysArray = Object.keys(Object(nextSource));\r\n\t\t\t\tfor (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\r\n\t\t\t\t\tvar nextKey = keysArray[nextIndex];\r\n\t\t\t\t\tvar desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\r\n\t\t\t\t\tif (desc !== undefined && desc.enumerable) {\r\n\t\t\t\t\t\tto[nextKey] = nextSource[nextKey];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn to;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nvar _ = {};\r\n\r\n_.isFunc = function(func) {\r\n\treturn typeof func === 'function';\r\n};\r\n\r\n_.required = function (variables) {\r\n\tif (!Array.isArray(variables) && typeof variables === 'undefined') throw new Error('Define all required arguments');\r\n\tif (Array.isArray(variables)) {\r\n\t\tvariables.forEach((variable) => {\r\n\t\t\tif (typeof variable === 'undefined') throw new Error('Define all required arguments');\r\n\t\t});\r\n\t}\r\n\treturn true;\r\n};\r\n\r\n_.getByKeyValue = function(arrayOfObjects, key, value) {\r\n\tif (!Array.isArray(arrayOfObjects)) throw new Error('First argument should be an array of objects');\r\n\tlet finded = false;\r\n\tarrayOfObjects.forEach(function(obj) {\r\n\t\tif (obj[key] && obj[key] === value) finded = obj;\r\n\t});\r\n\treturn finded;\r\n};\r\n\r\n_.getRandom = function() {\r\n\treturn parseInt(Math.random()*1e+10)+parseInt(Math.random()*1e+10)+String.fromCharCode(parseInt(Math.random()*(100-65)+65));\r\n}\r\n\r\n_.getRandomInt = function(min, max) {\r\n\treturn Math.floor(Math.random()*(max + 1 - min)) + min;\r\n};\r\n\r\n_.setProps = function(appendTo, object) {\r\n\tObject.keys(object).forEach(function (prop) {\r\n\t\tappendTo[prop] = object[prop];\r\n\t});\r\n\treturn appendTo;\r\n}\r\n\r\n_.PromisedTimeOut = (func, timeout) => {\r\n\tif (!func || !timeout) throw new Error('Defined func and timeout');\r\n\tfunc();\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tsetTimeout(() => { resolve(); }, timeout);\r\n\t});\r\n};\r\n\r\nvar $ = document.querySelector.bind(document);\r\nvar $$ = document.querySelectorAll.bind(document);\r\nHTMLElement.prototype.$ = function (query) {\r\n\treturn this.querySelector(query);\r\n};\r\nNodeList.prototype.array = function () {\r\n\treturn [].slice.call(this);\r\n};\r\n","/**!\r\n * Sortable\r\n * @author\tRubaXa   <trash@rubaxa.org>\r\n * @license MIT\r\n */\r\n\r\n(function sortableModule(factory) {\r\n\t\"use strict\";\r\n\r\n\tif (typeof define === \"function\" && define.amd) {\r\n\t\tdefine(factory);\r\n\t}\r\n\telse if (typeof module != \"undefined\" && typeof module.exports != \"undefined\") {\r\n\t\tmodule.exports = factory();\r\n\t}\r\n\telse if (typeof Package !== \"undefined\") {\r\n\t\t//noinspection JSUnresolvedVariable\r\n\t\tSortable = factory();  // export for Meteor.js\r\n\t}\r\n\telse {\r\n\t\t/* jshint sub:true */\r\n\t\twindow[\"Sortable\"] = factory();\r\n\t}\r\n})(function sortableFactory() {\r\n\t\"use strict\";\r\n\r\n\tif (typeof window == \"undefined\" || !window.document) {\r\n\t\treturn function sortableError() {\r\n\t\t\tthrow new Error(\"Sortable.js requires a window with a document\");\r\n\t\t};\r\n\t}\r\n\r\n\tvar dragEl,\r\n\t\tparentEl,\r\n\t\tghostEl,\r\n\t\tcloneEl,\r\n\t\trootEl,\r\n\t\tnextEl,\r\n\r\n\t\tscrollEl,\r\n\t\tscrollParentEl,\r\n\t\tscrollCustomFn,\r\n\r\n\t\tlastEl,\r\n\t\tlastCSS,\r\n\t\tlastParentCSS,\r\n\r\n\t\toldIndex,\r\n\t\tnewIndex,\r\n\r\n\t\tactiveGroup,\r\n\t\tputSortable,\r\n\r\n\t\tautoScroll = {},\r\n\r\n\t\ttapEvt,\r\n\t\ttouchEvt,\r\n\r\n\t\tmoved,\r\n\r\n\t\t/** @const */\r\n\t\tRSPACE = /\\s+/g,\r\n\r\n\t\texpando = 'Sortable' + (new Date).getTime(),\r\n\r\n\t\twin = window,\r\n\t\tdocument = win.document,\r\n\t\tparseInt = win.parseInt,\r\n\r\n\t\t$ = win.jQuery || win.Zepto,\r\n\t\tPolymer = win.Polymer,\r\n\r\n\t\tsupportDraggable = !!('draggable' in document.createElement('div')),\r\n\t\tsupportCssPointerEvents = (function (el) {\r\n\t\t\t// false when IE11\r\n\t\t\tif (!!navigator.userAgent.match(/Trident.*rv[ :]?11\\./)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tel = document.createElement('x');\r\n\t\t\tel.style.cssText = 'pointer-events:auto';\r\n\t\t\treturn el.style.pointerEvents === 'auto';\r\n\t\t})(),\r\n\r\n\t\t_silent = false,\r\n\r\n\t\tabs = Math.abs,\r\n\t\tmin = Math.min,\r\n\t\tslice = [].slice,\r\n\r\n\t\ttouchDragOverListeners = [],\r\n\r\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {\r\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\r\n\t\t\tif (rootEl && options.scroll) {\r\n\t\t\t\tvar _this = rootEl[expando],\r\n\t\t\t\t\tel,\r\n\t\t\t\t\trect,\r\n\t\t\t\t\tsens = options.scrollSensitivity,\r\n\t\t\t\t\tspeed = options.scrollSpeed,\r\n\r\n\t\t\t\t\tx = evt.clientX,\r\n\t\t\t\t\ty = evt.clientY,\r\n\r\n\t\t\t\t\twinWidth = window.innerWidth,\r\n\t\t\t\t\twinHeight = window.innerHeight,\r\n\r\n\t\t\t\t\tvx,\r\n\t\t\t\t\tvy,\r\n\r\n\t\t\t\t\tscrollOffsetX,\r\n\t\t\t\t\tscrollOffsetY\r\n\t\t\t\t;\r\n\r\n\t\t\t\t// Delect scrollEl\r\n\t\t\t\tif (scrollParentEl !== rootEl) {\r\n\t\t\t\t\tscrollEl = options.scroll;\r\n\t\t\t\t\tscrollParentEl = rootEl;\r\n\t\t\t\t\tscrollCustomFn = options.scrollFn;\r\n\r\n\t\t\t\t\tif (scrollEl === true) {\r\n\t\t\t\t\t\tscrollEl = rootEl;\r\n\r\n\t\t\t\t\t\tdo {\r\n\t\t\t\t\t\t\tif ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||\r\n\t\t\t\t\t\t\t\t(scrollEl.offsetHeight < scrollEl.scrollHeight)\r\n\t\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/* jshint boss:true */\r\n\t\t\t\t\t\t} while (scrollEl = scrollEl.parentNode);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (scrollEl) {\r\n\t\t\t\t\tel = scrollEl;\r\n\t\t\t\t\trect = scrollEl.getBoundingClientRect();\r\n\t\t\t\t\tvx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\r\n\t\t\t\t\tvy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (!(vx || vy)) {\r\n\t\t\t\t\tvx = (winWidth - x <= sens) - (x <= sens);\r\n\t\t\t\t\tvy = (winHeight - y <= sens) - (y <= sens);\r\n\r\n\t\t\t\t\t/* jshint expr:true */\r\n\t\t\t\t\t(vx || vy) && (el = win);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\r\n\t\t\t\t\tautoScroll.el = el;\r\n\t\t\t\t\tautoScroll.vx = vx;\r\n\t\t\t\t\tautoScroll.vy = vy;\r\n\r\n\t\t\t\t\tclearInterval(autoScroll.pid);\r\n\r\n\t\t\t\t\tif (el) {\r\n\t\t\t\t\t\tautoScroll.pid = setInterval(function () {\r\n\t\t\t\t\t\t\tscrollOffsetY = vy ? vy * speed : 0;\r\n\t\t\t\t\t\t\tscrollOffsetX = vx ? vx * speed : 0;\r\n\r\n\t\t\t\t\t\t\tif ('function' === typeof(scrollCustomFn)) {\r\n\t\t\t\t\t\t\t\treturn scrollCustomFn.call(_this, scrollOffsetX, scrollOffsetY, evt);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif (el === win) {\r\n\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + scrollOffsetX, win.pageYOffset + scrollOffsetY);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tel.scrollTop += scrollOffsetY;\r\n\t\t\t\t\t\t\t\tel.scrollLeft += scrollOffsetX;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 24);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 30),\r\n\r\n\t\t_prepareGroup = function (options) {\r\n\t\t\tfunction toFn(value, pull) {\r\n\t\t\t\tif (value === void 0 || value === true) {\r\n\t\t\t\t\tvalue = group.name;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof value === 'function') {\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn function (to, from) {\r\n\t\t\t\t\t\tvar fromGroup = from.options.group.name;\r\n\r\n\t\t\t\t\t\treturn pull\r\n\t\t\t\t\t\t\t? value\r\n\t\t\t\t\t\t\t: value && (value.join\r\n\t\t\t\t\t\t\t\t? value.indexOf(fromGroup) > -1\r\n\t\t\t\t\t\t\t\t: (fromGroup == value)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar group = {};\r\n\t\t\tvar originalGroup = options.group;\r\n\r\n\t\t\tif (!originalGroup || typeof originalGroup != 'object') {\r\n\t\t\t\toriginalGroup = {name: originalGroup};\r\n\t\t\t}\r\n\r\n\t\t\tgroup.name = originalGroup.name;\r\n\t\t\tgroup.checkPull = toFn(originalGroup.pull, true);\r\n\t\t\tgroup.checkPut = toFn(originalGroup.put);\r\n\r\n\t\t\toptions.group = group;\r\n\t\t}\r\n\t;\r\n\r\n\r\n\r\n\t/**\r\n\t * @class  Sortable\r\n\t * @param  {HTMLElement}  el\r\n\t * @param  {Object}       [options]\r\n\t */\r\n\tfunction Sortable(el, options) {\r\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\r\n\t\t\tthrow 'Sortable: `el` must be HTMLElement, and not ' + {}.toString.call(el);\r\n\t\t}\r\n\r\n\t\tthis.el = el; // root element\r\n\t\tthis.options = options = _extend({}, options);\r\n\r\n\r\n\t\t// Export instance\r\n\t\tel[expando] = this;\r\n\r\n\r\n\t\t// Default options\r\n\t\tvar defaults = {\r\n\t\t\tgroup: Math.random(),\r\n\t\t\tsort: true,\r\n\t\t\tdisabled: false,\r\n\t\t\tstore: null,\r\n\t\t\thandle: null,\r\n\t\t\tscroll: true,\r\n\t\t\tscrollSensitivity: 30,\r\n\t\t\tscrollSpeed: 10,\r\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? 'li' : '>*',\r\n\t\t\tghostClass: 'sortable-ghost',\r\n\t\t\tchosenClass: 'sortable-chosen',\r\n\t\t\tdragClass: 'sortable-drag',\r\n\t\t\tignore: 'a, img',\r\n\t\t\tfilter: null,\r\n\t\t\tanimation: 0,\r\n\t\t\tsetData: function (dataTransfer, dragEl) {\r\n\t\t\t\tdataTransfer.setData('Text', dragEl.textContent);\r\n\t\t\t},\r\n\t\t\tdropBubble: false,\r\n\t\t\tdragoverBubble: false,\r\n\t\t\tdataIdAttr: 'data-id',\r\n\t\t\tdelay: 0,\r\n\t\t\tforceFallback: false,\r\n\t\t\tfallbackClass: 'sortable-fallback',\r\n\t\t\tfallbackOnBody: false,\r\n\t\t\tfallbackTolerance: 0,\r\n\t\t\tfallbackOffset: {x: 0, y: 0}\r\n\t\t};\r\n\r\n\r\n\t\t// Set default options\r\n\t\tfor (var name in defaults) {\r\n\t\t\t!(name in options) && (options[name] = defaults[name]);\r\n\t\t}\r\n\r\n\t\t_prepareGroup(options);\r\n\r\n\t\t// Bind all private methods\r\n\t\tfor (var fn in this) {\r\n\t\t\tif (fn.charAt(0) === '_' && typeof this[fn] === 'function') {\r\n\t\t\t\tthis[fn] = this[fn].bind(this);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Setup drag mode\r\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\r\n\r\n\t\t// Bind events\r\n\t\t_on(el, 'mousedown', this._onTapStart);\r\n\t\t_on(el, 'touchstart', this._onTapStart);\r\n\t\t_on(el, 'pointerdown', this._onTapStart);\r\n\r\n\t\tif (this.nativeDraggable) {\r\n\t\t\t_on(el, 'dragover', this);\r\n\t\t\t_on(el, 'dragenter', this);\r\n\t\t}\r\n\r\n\t\ttouchDragOverListeners.push(this._onDragOver);\r\n\r\n\t\t// Restore sorting\r\n\t\toptions.store && this.sort(options.store.get(this));\r\n\t}\r\n\r\n\r\n\tSortable.prototype = /** @lends Sortable.prototype */ {\r\n\t\tconstructor: Sortable,\r\n\r\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\r\n\t\t\tvar _this = this,\r\n\t\t\t\tel = this.el,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\ttype = evt.type,\r\n\t\t\t\ttouch = evt.touches && evt.touches[0],\r\n\t\t\t\ttarget = (touch || evt).target,\r\n\t\t\t\toriginalTarget = evt.target.shadowRoot && evt.path[0] || target,\r\n\t\t\t\tfilter = options.filter,\r\n\t\t\t\tstartIndex;\r\n\r\n\t\t\t// Don't trigger start event when an element is been dragged, otherwise the evt.oldindex always wrong when set option.group.\r\n\t\t\tif (dragEl) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (type === 'mousedown' && evt.button !== 0 || options.disabled) {\r\n\t\t\t\treturn; // only left button or enabled\r\n\t\t\t}\r\n\r\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttarget = _closest(target, options.draggable, el);\r\n\r\n\t\t\tif (!target) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Get the index of the dragged element within its parent\r\n\t\t\tstartIndex = _index(target, options.draggable);\r\n\r\n\t\t\t// Check filter\r\n\t\t\tif (typeof filter === 'function') {\r\n\t\t\t\tif (filter.call(this, evt, target, this)) {\r\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, 'filter', target, el, startIndex);\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\treturn; // cancel dnd\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (filter) {\r\n\t\t\t\tfilter = filter.split(',').some(function (criteria) {\r\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el);\r\n\r\n\t\t\t\t\tif (criteria) {\r\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, 'filter', target, el, startIndex);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (filter) {\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\treturn; // cancel dnd\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Prepare `dragstart`\r\n\t\t\tthis._prepareDragStart(evt, touch, target, startIndex);\r\n\t\t},\r\n\r\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target, /** Number */startIndex) {\r\n\t\t\tvar _this = this,\r\n\t\t\t\tel = _this.el,\r\n\t\t\t\toptions = _this.options,\r\n\t\t\t\townerDocument = el.ownerDocument,\r\n\t\t\t\tdragStartFn;\r\n\r\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\r\n\t\t\t\ttapEvt = evt;\r\n\r\n\t\t\t\trootEl = el;\r\n\t\t\t\tdragEl = target;\r\n\t\t\t\tparentEl = dragEl.parentNode;\r\n\t\t\t\tnextEl = dragEl.nextSibling;\r\n\t\t\t\tactiveGroup = options.group;\r\n\t\t\t\toldIndex = startIndex;\r\n\r\n\t\t\t\tthis._lastX = (touch || evt).clientX;\r\n\t\t\t\tthis._lastY = (touch || evt).clientY;\r\n\r\n\t\t\t\tdragEl.style['will-change'] = 'transform';\r\n\r\n\t\t\t\tdragStartFn = function () {\r\n\t\t\t\t\t// Delayed drag has been triggered\r\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\r\n\t\t\t\t\t_this._disableDelayedDrag();\r\n\r\n\t\t\t\t\t// Make the element draggable\r\n\t\t\t\t\tdragEl.draggable = _this.nativeDraggable;\r\n\r\n\t\t\t\t\t// Chosen item\r\n\t\t\t\t\t_toggleClass(dragEl, options.chosenClass, true);\r\n\r\n\t\t\t\t\t// Bind the events: dragstart/dragend\r\n\t\t\t\t\t_this._triggerDragStart(evt, touch);\r\n\r\n\t\t\t\t\t// Drag start event\r\n\t\t\t\t\t_dispatchEvent(_this, rootEl, 'choose', dragEl, rootEl, oldIndex);\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Disable \"draggable\"\r\n\t\t\t\toptions.ignore.split(',').forEach(function (criteria) {\r\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t_on(ownerDocument, 'mouseup', _this._onDrop);\r\n\t\t\t\t_on(ownerDocument, 'touchend', _this._onDrop);\r\n\t\t\t\t_on(ownerDocument, 'touchcancel', _this._onDrop);\r\n\t\t\t\t_on(ownerDocument, 'pointercancel', _this._onDrop);\r\n\r\n\t\t\t\tif (options.delay) {\r\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\r\n\t\t\t\t\t// before the delay has been reached:\r\n\t\t\t\t\t// disable the delayed drag\r\n\t\t\t\t\t_on(ownerDocument, 'mouseup', _this._disableDelayedDrag);\r\n\t\t\t\t\t_on(ownerDocument, 'touchend', _this._disableDelayedDrag);\r\n\t\t\t\t\t_on(ownerDocument, 'touchcancel', _this._disableDelayedDrag);\r\n\t\t\t\t\t_on(ownerDocument, 'mousemove', _this._disableDelayedDrag);\r\n\t\t\t\t\t_on(ownerDocument, 'touchmove', _this._disableDelayedDrag);\r\n\t\t\t\t\t_on(ownerDocument, 'pointermove', _this._disableDelayedDrag);\r\n\r\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdragStartFn();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_disableDelayedDrag: function () {\r\n\t\t\tvar ownerDocument = this.el.ownerDocument;\r\n\r\n\t\t\tclearTimeout(this._dragStartTimer);\r\n\t\t\t_off(ownerDocument, 'mouseup', this._disableDelayedDrag);\r\n\t\t\t_off(ownerDocument, 'touchend', this._disableDelayedDrag);\r\n\t\t\t_off(ownerDocument, 'touchcancel', this._disableDelayedDrag);\r\n\t\t\t_off(ownerDocument, 'mousemove', this._disableDelayedDrag);\r\n\t\t\t_off(ownerDocument, 'touchmove', this._disableDelayedDrag);\r\n\t\t\t_off(ownerDocument, 'pointermove', this._disableDelayedDrag);\r\n\t\t},\r\n\r\n\t\t_triggerDragStart: function (/** Event */evt, /** Touch */touch) {\r\n\t\t\ttouch = touch || (evt.pointerType == 'touch' ? evt : null);\r\n\t\t\tif (touch) {\r\n\t\t\t\t// Touch device support\r\n\t\t\t\ttapEvt = {\r\n\t\t\t\t\ttarget: dragEl,\r\n\t\t\t\t\tclientX: touch.clientX,\r\n\t\t\t\t\tclientY: touch.clientY\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis._onDragStart(tapEvt, 'touch');\r\n\t\t\t}\r\n\t\t\telse if (!this.nativeDraggable) {\r\n\t\t\t\tthis._onDragStart(tapEvt, true);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t_on(dragEl, 'dragend', this);\r\n\t\t\t\t_on(rootEl, 'dragstart', this._onDragStart);\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif (document.selection) {\r\n\t\t\t\t\t// Timeout neccessary for IE9\r\n\t\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\t\tdocument.selection.empty();\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\twindow.getSelection().removeAllRanges();\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_dragStarted: function () {\r\n\t\t\tif (rootEl && dragEl) {\r\n\t\t\t\tvar options = this.options;\r\n\r\n\t\t\t\t// Apply effect\r\n\t\t\t\t_toggleClass(dragEl, options.ghostClass, true);\r\n\t\t\t\t_toggleClass(dragEl, options.dragClass, false);\r\n\r\n\t\t\t\tSortable.active = this;\r\n\r\n\t\t\t\t// Drag start event\r\n\t\t\t\t_dispatchEvent(this, rootEl, 'start', dragEl, rootEl, oldIndex);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_emulateDragOver: function () {\r\n\t\t\tif (touchEvt) {\r\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._lastX = touchEvt.clientX;\r\n\t\t\t\tthis._lastY = touchEvt.clientY;\r\n\r\n\t\t\t\tif (!supportCssPointerEvents) {\r\n\t\t\t\t\t_css(ghostEl, 'display', 'none');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\r\n\t\t\t\t\tparent = target,\r\n\t\t\t\t\ti = touchDragOverListeners.length;\r\n\r\n\t\t\t\tif (parent) {\r\n\t\t\t\t\tdo {\r\n\t\t\t\t\t\tif (parent[expando]) {\r\n\t\t\t\t\t\t\twhile (i--) {\r\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\r\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\r\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\r\n\t\t\t\t\t\t\t\t\ttarget: target,\r\n\t\t\t\t\t\t\t\t\trootEl: parent\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttarget = parent; // store last element\r\n\t\t\t\t\t}\r\n\t\t\t\t\t/* jshint boss:true */\r\n\t\t\t\t\twhile (parent = parent.parentNode);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!supportCssPointerEvents) {\r\n\t\t\t\t\t_css(ghostEl, 'display', '');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\r\n\t\t\tif (tapEvt) {\r\n\t\t\t\tvar\toptions = this.options,\r\n\t\t\t\t\tfallbackTolerance = options.fallbackTolerance,\r\n\t\t\t\t\tfallbackOffset = options.fallbackOffset,\r\n\t\t\t\t\ttouch = evt.touches ? evt.touches[0] : evt,\r\n\t\t\t\t\tdx = (touch.clientX - tapEvt.clientX) + fallbackOffset.x,\r\n\t\t\t\t\tdy = (touch.clientY - tapEvt.clientY) + fallbackOffset.y,\r\n\t\t\t\t\ttranslate3d = evt.touches ? 'translate3d(' + dx + 'px,' + dy + 'px,0)' : 'translate(' + dx + 'px,' + dy + 'px)';\r\n\r\n\t\t\t\t// only set the status to dragging, when we are actually dragging\r\n\t\t\t\tif (!Sortable.active) {\r\n\t\t\t\t\tif (fallbackTolerance &&\r\n\t\t\t\t\t\tmin(abs(touch.clientX - this._lastX), abs(touch.clientY - this._lastY)) < fallbackTolerance\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._dragStarted();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// as well as creating the ghost element on the document body\r\n\t\t\t\tthis._appendGhost();\r\n\r\n\t\t\t\tmoved = true;\r\n\t\t\t\ttouchEvt = touch;\r\n\r\n\t\t\t\t_css(ghostEl, 'webkitTransform', translate3d);\r\n\t\t\t\t_css(ghostEl, 'mozTransform', translate3d);\r\n\t\t\t\t_css(ghostEl, 'msTransform', translate3d);\r\n\t\t\t\t_css(ghostEl, 'transform', translate3d);\r\n\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_appendGhost: function () {\r\n\t\t\tif (!ghostEl) {\r\n\t\t\t\tvar rect = dragEl.getBoundingClientRect(),\r\n\t\t\t\t\tcss = _css(dragEl),\r\n\t\t\t\t\toptions = this.options,\r\n\t\t\t\t\tghostRect;\r\n\r\n\t\t\t\tghostEl = dragEl.cloneNode(true);\r\n\r\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\r\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\r\n\t\t\t\t_toggleClass(ghostEl, options.dragClass, true);\r\n\r\n\t\t\t\t_css(ghostEl, 'top', rect.top - parseInt(css.marginTop, 10));\r\n\t\t\t\t_css(ghostEl, 'left', rect.left - parseInt(css.marginLeft, 10));\r\n\t\t\t\t_css(ghostEl, 'width', rect.width);\r\n\t\t\t\t_css(ghostEl, 'height', rect.height);\r\n\t\t\t\t_css(ghostEl, 'opacity', '0.8');\r\n\t\t\t\t_css(ghostEl, 'position', 'fixed');\r\n\t\t\t\t_css(ghostEl, 'zIndex', '100000');\r\n\t\t\t\t_css(ghostEl, 'pointerEvents', 'none');\r\n\r\n\t\t\t\toptions.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\r\n\r\n\t\t\t\t// Fixing dimensions.\r\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\r\n\t\t\t\t_css(ghostEl, 'width', rect.width * 2 - ghostRect.width);\r\n\t\t\t\t_css(ghostEl, 'height', rect.height * 2 - ghostRect.height);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {\r\n\t\t\tvar dataTransfer = evt.dataTransfer,\r\n\t\t\t\toptions = this.options;\r\n\r\n\t\t\tthis._offUpEvents();\r\n\r\n\t\t\tif (activeGroup.checkPull(this, this, dragEl, evt) == 'clone') {\r\n\t\t\t\tcloneEl = _clone(dragEl);\r\n\t\t\t\t_css(cloneEl, 'display', 'none');\r\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\r\n\t\t\t\t_dispatchEvent(this, rootEl, 'clone', dragEl);\r\n\t\t\t}\r\n\r\n\t\t\t_toggleClass(dragEl, options.dragClass, true);\r\n\r\n\t\t\tif (useFallback) {\r\n\t\t\t\tif (useFallback === 'touch') {\r\n\t\t\t\t\t// Bind touch events\r\n\t\t\t\t\t_on(document, 'touchmove', this._onTouchMove);\r\n\t\t\t\t\t_on(document, 'touchend', this._onDrop);\r\n\t\t\t\t\t_on(document, 'touchcancel', this._onDrop);\r\n\t\t\t\t\t_on(document, 'pointermove', this._onTouchMove);\r\n\t\t\t\t\t_on(document, 'pointerup', this._onDrop);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Old brwoser\r\n\t\t\t\t\t_on(document, 'mousemove', this._onTouchMove);\r\n\t\t\t\t\t_on(document, 'mouseup', this._onDrop);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 50);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (dataTransfer) {\r\n\t\t\t\t\tdataTransfer.effectAllowed = 'move';\r\n\t\t\t\t\toptions.setData && options.setData.call(this, dataTransfer, dragEl);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t_on(document, 'drop', this);\r\n\t\t\t\tsetTimeout(this._dragStarted, 0);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_onDragOver: function (/**Event*/evt) {\r\n\t\t\tvar el = this.el,\r\n\t\t\t\ttarget,\r\n\t\t\t\tdragRect,\r\n\t\t\t\ttargetRect,\r\n\t\t\t\trevert,\r\n\t\t\t\toptions = this.options,\r\n\t\t\t\tgroup = options.group,\r\n\t\t\t\tactiveSortable = Sortable.active,\r\n\t\t\t\tisOwner = (activeGroup === group),\r\n\t\t\t\tcanSort = options.sort;\r\n\r\n\t\t\tif (evt.preventDefault !== void 0) {\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation();\r\n\t\t\t}\r\n\r\n\t\t\tmoved = true;\r\n\r\n\t\t\tif (activeGroup && !options.disabled &&\r\n\t\t\t\t(isOwner\r\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\r\n\t\t\t\t\t: (\r\n\t\t\t\t\t\tputSortable === this ||\r\n\t\t\t\t\t\tactiveGroup.checkPull(this, activeSortable, dragEl, evt) && group.checkPut(this, activeSortable, dragEl, evt)\r\n\t\t\t\t\t)\r\n\t\t\t\t) &&\r\n\t\t\t\t(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\r\n\t\t\t) {\r\n\t\t\t\t// Smart auto-scrolling\r\n\t\t\t\t_autoScroll(evt, options, this.el);\r\n\r\n\t\t\t\tif (_silent) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttarget = _closest(evt.target, options.draggable, el);\r\n\t\t\t\tdragRect = dragEl.getBoundingClientRect();\r\n\t\t\t\tputSortable = this;\r\n\r\n\t\t\t\tif (revert) {\r\n\t\t\t\t\t_cloneHide(true);\r\n\t\t\t\t\tparentEl = rootEl; // actualization\r\n\r\n\t\t\t\t\tif (cloneEl || nextEl) {\r\n\t\t\t\t\t\trootEl.insertBefore(dragEl, cloneEl || nextEl);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (!canSort) {\r\n\t\t\t\t\t\trootEl.appendChild(dragEl);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\r\n\t\t\t\t\t(el === evt.target) && (target = _ghostIsLast(el, evt))\r\n\t\t\t\t) {\r\n\t\t\t\t\tif (target) {\r\n\t\t\t\t\t\tif (target.animated) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\ttargetRect = target.getBoundingClientRect();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_cloneHide(isOwner);\r\n\r\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt) !== false) {\r\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\r\n\t\t\t\t\t\t\tel.appendChild(dragEl);\r\n\t\t\t\t\t\t\tparentEl = el; // actualization\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\r\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {\r\n\t\t\t\t\tif (lastEl !== target) {\r\n\t\t\t\t\t\tlastEl = target;\r\n\t\t\t\t\t\tlastCSS = _css(target);\r\n\t\t\t\t\t\tlastParentCSS = _css(target.parentNode);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\ttargetRect = target.getBoundingClientRect();\r\n\r\n\t\t\t\t\tvar width = targetRect.right - targetRect.left,\r\n\t\t\t\t\t\theight = targetRect.bottom - targetRect.top,\r\n\t\t\t\t\t\tfloating = /left|right|inline/.test(lastCSS.cssFloat + lastCSS.display)\r\n\t\t\t\t\t\t\t|| (lastParentCSS.display == 'flex' && lastParentCSS['flex-direction'].indexOf('row') === 0),\r\n\t\t\t\t\t\tisWide = (target.offsetWidth > dragEl.offsetWidth),\r\n\t\t\t\t\t\tisLong = (target.offsetHeight > dragEl.offsetHeight),\r\n\t\t\t\t\t\thalfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\r\n\t\t\t\t\t\tnextSibling = target.nextElementSibling,\r\n\t\t\t\t\t\tmoveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect, evt),\r\n\t\t\t\t\t\tafter\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\t\tif (moveVector !== false) {\r\n\t\t\t\t\t\t_silent = true;\r\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\r\n\r\n\t\t\t\t\t\t_cloneHide(isOwner);\r\n\r\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\r\n\t\t\t\t\t\t\tafter = (moveVector === 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (floating) {\r\n\t\t\t\t\t\t\tvar elTop = dragEl.offsetTop,\r\n\t\t\t\t\t\t\t\ttgTop = target.offsetTop;\r\n\r\n\t\t\t\t\t\t\tif (elTop === tgTop) {\r\n\t\t\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (target.previousElementSibling === dragEl || dragEl.previousElementSibling === target) {\r\n\t\t\t\t\t\t\t\tafter = (evt.clientY - targetRect.top) / height > 0.5;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tafter = tgTop > elTop;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\r\n\t\t\t\t\t\t\tif (after && !nextSibling) {\r\n\t\t\t\t\t\t\t\tel.appendChild(dragEl);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\r\n\r\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\r\n\t\t\t\t\t\tthis._animate(targetRect, target);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_animate: function (prevRect, target) {\r\n\t\t\tvar ms = this.options.animation;\r\n\r\n\t\t\tif (ms) {\r\n\t\t\t\tvar currentRect = target.getBoundingClientRect();\r\n\r\n\t\t\t\t_css(target, 'transition', 'none');\r\n\t\t\t\t_css(target, 'transform', 'translate3d('\r\n\t\t\t\t\t+ (prevRect.left - currentRect.left) + 'px,'\r\n\t\t\t\t\t+ (prevRect.top - currentRect.top) + 'px,0)'\r\n\t\t\t\t);\r\n\r\n\t\t\t\ttarget.offsetWidth; // repaint\r\n\r\n\t\t\t\t_css(target, 'transition', 'all ' + ms + 'ms');\r\n\t\t\t\t_css(target, 'transform', 'translate3d(0,0,0)');\r\n\r\n\t\t\t\tclearTimeout(target.animated);\r\n\t\t\t\ttarget.animated = setTimeout(function () {\r\n\t\t\t\t\t_css(target, 'transition', '');\r\n\t\t\t\t\t_css(target, 'transform', '');\r\n\t\t\t\t\ttarget.animated = false;\r\n\t\t\t\t}, ms);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t_offUpEvents: function () {\r\n\t\t\tvar ownerDocument = this.el.ownerDocument;\r\n\r\n\t\t\t_off(document, 'touchmove', this._onTouchMove);\r\n\t\t\t_off(document, 'pointermove', this._onTouchMove);\r\n\t\t\t_off(ownerDocument, 'mouseup', this._onDrop);\r\n\t\t\t_off(ownerDocument, 'touchend', this._onDrop);\r\n\t\t\t_off(ownerDocument, 'pointerup', this._onDrop);\r\n\t\t\t_off(ownerDocument, 'touchcancel', this._onDrop);\r\n\t\t},\r\n\r\n\t\t_onDrop: function (/**Event*/evt) {\r\n\t\t\tvar el = this.el,\r\n\t\t\t\toptions = this.options;\r\n\r\n\t\t\tclearInterval(this._loopId);\r\n\t\t\tclearInterval(autoScroll.pid);\r\n\t\t\tclearTimeout(this._dragStartTimer);\r\n\r\n\t\t\t// Unbind events\r\n\t\t\t_off(document, 'mousemove', this._onTouchMove);\r\n\r\n\t\t\tif (this.nativeDraggable) {\r\n\t\t\t\t_off(document, 'drop', this);\r\n\t\t\t\t_off(el, 'dragstart', this._onDragStart);\r\n\t\t\t}\r\n\r\n\t\t\tthis._offUpEvents();\r\n\r\n\t\t\tif (evt) {\r\n\t\t\t\tif (moved) {\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tghostEl && ghostEl.parentNode.removeChild(ghostEl);\r\n\r\n\t\t\t\tif (dragEl) {\r\n\t\t\t\t\tif (this.nativeDraggable) {\r\n\t\t\t\t\t\t_off(dragEl, 'dragend', this);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t_disableDraggable(dragEl);\r\n\t\t\t\t\tdragEl.style['will-change'] = '';\r\n\r\n\t\t\t\t\t// Remove class's\r\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\r\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\r\n\r\n\t\t\t\t\tif (rootEl !== parentEl) {\r\n\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\r\n\r\n\t\t\t\t\t\tif (newIndex >= 0) {\r\n\r\n\t\t\t\t\t\t\t// Add event\r\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'add', dragEl, rootEl, oldIndex, newIndex);\r\n\r\n\t\t\t\t\t\t\t// Remove event\r\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'remove', dragEl, rootEl, oldIndex, newIndex);\r\n\r\n\t\t\t\t\t\t\t// drag from one list and drop into another\r\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\r\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t// Remove clone\r\n\t\t\t\t\t\tcloneEl && cloneEl.parentNode.removeChild(cloneEl);\r\n\r\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\r\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\r\n\t\t\t\t\t\t\tnewIndex = _index(dragEl, options.draggable);\r\n\r\n\t\t\t\t\t\t\tif (newIndex >= 0) {\r\n\t\t\t\t\t\t\t\t// drag & drop within the same list\r\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'update', dragEl, rootEl, oldIndex, newIndex);\r\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'sort', dragEl, rootEl, oldIndex, newIndex);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (Sortable.active) {\r\n\t\t\t\t\t\t/* jshint eqnull:true */\r\n\t\t\t\t\t\tif (newIndex == null || newIndex === -1) {\r\n\t\t\t\t\t\t\tnewIndex = oldIndex;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, 'end', dragEl, rootEl, oldIndex, newIndex);\r\n\r\n\t\t\t\t\t\t// Save sorting\r\n\t\t\t\t\t\tthis.save();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t\tthis._nulling();\r\n\t\t},\r\n\r\n\t\t_nulling: function() {\r\n\t\t\trootEl =\r\n\t\t\tdragEl =\r\n\t\t\tparentEl =\r\n\t\t\tghostEl =\r\n\t\t\tnextEl =\r\n\t\t\tcloneEl =\r\n\r\n\t\t\tscrollEl =\r\n\t\t\tscrollParentEl =\r\n\r\n\t\t\ttapEvt =\r\n\t\t\ttouchEvt =\r\n\r\n\t\t\tmoved =\r\n\t\t\tnewIndex =\r\n\r\n\t\t\tlastEl =\r\n\t\t\tlastCSS =\r\n\r\n\t\t\tputSortable =\r\n\t\t\tactiveGroup =\r\n\t\t\tSortable.active = null;\r\n\t\t},\r\n\r\n\t\thandleEvent: function (/**Event*/evt) {\r\n\t\t\tvar type = evt.type;\r\n\r\n\t\t\tif (type === 'dragover' || type === 'dragenter') {\r\n\t\t\t\tif (dragEl) {\r\n\t\t\t\t\tthis._onDragOver(evt);\r\n\t\t\t\t\t_globalDragOver(evt);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (type === 'drop' || type === 'dragend') {\r\n\t\t\t\tthis._onDrop(evt);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Serializes the item into an array of string.\r\n\t\t * @returns {String[]}\r\n\t\t */\r\n\t\ttoArray: function () {\r\n\t\t\tvar order = [],\r\n\t\t\t\tel,\r\n\t\t\t\tchildren = this.el.children,\r\n\t\t\t\ti = 0,\r\n\t\t\t\tn = children.length,\r\n\t\t\t\toptions = this.options;\r\n\r\n\t\t\tfor (; i < n; i++) {\r\n\t\t\t\tel = children[i];\r\n\t\t\t\tif (_closest(el, options.draggable, this.el)) {\r\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn order;\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Sorts the elements according to the array.\r\n\t\t * @param  {String[]}  order  order of the items\r\n\t\t */\r\n\t\tsort: function (order) {\r\n\t\t\tvar items = {}, rootEl = this.el;\r\n\r\n\t\t\tthis.toArray().forEach(function (id, i) {\r\n\t\t\t\tvar el = rootEl.children[i];\r\n\r\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\r\n\t\t\t\t\titems[id] = el;\r\n\t\t\t\t}\r\n\t\t\t}, this);\r\n\r\n\t\t\torder.forEach(function (id) {\r\n\t\t\t\tif (items[id]) {\r\n\t\t\t\t\trootEl.removeChild(items[id]);\r\n\t\t\t\t\trootEl.appendChild(items[id]);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Save the current sorting\r\n\t\t */\r\n\t\tsave: function () {\r\n\t\t\tvar store = this.options.store;\r\n\t\t\tstore && store.set(this);\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\r\n\t\t * @param   {HTMLElement}  el\r\n\t\t * @param   {String}       [selector]  default: `options.draggable`\r\n\t\t * @returns {HTMLElement|null}\r\n\t\t */\r\n\t\tclosest: function (el, selector) {\r\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Set/get option\r\n\t\t * @param   {string} name\r\n\t\t * @param   {*}      [value]\r\n\t\t * @returns {*}\r\n\t\t */\r\n\t\toption: function (name, value) {\r\n\t\t\tvar options = this.options;\r\n\r\n\t\t\tif (value === void 0) {\r\n\t\t\t\treturn options[name];\r\n\t\t\t} else {\r\n\t\t\t\toptions[name] = value;\r\n\r\n\t\t\t\tif (name === 'group') {\r\n\t\t\t\t\t_prepareGroup(options);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\t\t/**\r\n\t\t * Destroy\r\n\t\t */\r\n\t\tdestroy: function () {\r\n\t\t\tvar el = this.el;\r\n\r\n\t\t\tel[expando] = null;\r\n\r\n\t\t\t_off(el, 'mousedown', this._onTapStart);\r\n\t\t\t_off(el, 'touchstart', this._onTapStart);\r\n\t\t\t_off(el, 'pointerdown', this._onTapStart);\r\n\r\n\t\t\tif (this.nativeDraggable) {\r\n\t\t\t\t_off(el, 'dragover', this);\r\n\t\t\t\t_off(el, 'dragenter', this);\r\n\t\t\t}\r\n\r\n\t\t\t// Remove draggable attributes\r\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll('[draggable]'), function (el) {\r\n\t\t\t\tel.removeAttribute('draggable');\r\n\t\t\t});\r\n\r\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\r\n\r\n\t\t\tthis._onDrop();\r\n\r\n\t\t\tthis.el = el = null;\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tfunction _cloneHide(state) {\r\n\t\tif (cloneEl && (cloneEl.state !== state)) {\r\n\t\t\t_css(cloneEl, 'display', state ? 'none' : '');\r\n\t\t\t!state && cloneEl.state && rootEl.insertBefore(cloneEl, dragEl);\r\n\t\t\tcloneEl.state = state;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {\r\n\t\tif (el) {\r\n\t\t\tctx = ctx || document;\r\n\r\n\t\t\tdo {\r\n\t\t\t\tif ((selector === '>*' && el.parentNode === ctx) || _matches(el, selector)) {\r\n\t\t\t\t\treturn el;\r\n\t\t\t\t}\r\n\t\t\t\t/* jshint boss:true */\r\n\t\t\t} while (el = _getParentOrHost(el));\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\r\n\tfunction _getParentOrHost(el) {\r\n\t\tvar parent = el.host;\r\n\r\n\t\treturn (parent && parent.nodeType) ? parent : el.parentNode;\r\n\t}\r\n\r\n\r\n\tfunction _globalDragOver(/**Event*/evt) {\r\n\t\tif (evt.dataTransfer) {\r\n\t\t\tevt.dataTransfer.dropEffect = 'move';\r\n\t\t}\r\n\t\tevt.preventDefault();\r\n\t}\r\n\r\n\r\n\tfunction _on(el, event, fn) {\r\n\t\tel.addEventListener(event, fn, false);\r\n\t}\r\n\r\n\r\n\tfunction _off(el, event, fn) {\r\n\t\tel.removeEventListener(event, fn, false);\r\n\t}\r\n\r\n\r\n\tfunction _toggleClass(el, name, state) {\r\n\t\tif (el) {\r\n\t\t\tif (el.classList) {\r\n\t\t\t\tel.classList[state ? 'add' : 'remove'](name);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar className = (' ' + el.className + ' ').replace(RSPACE, ' ').replace(' ' + name + ' ', ' ');\r\n\t\t\t\tel.className = (className + (state ? ' ' + name : '')).replace(RSPACE, ' ');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction _css(el, prop, val) {\r\n\t\tvar style = el && el.style;\r\n\r\n\t\tif (style) {\r\n\t\t\tif (val === void 0) {\r\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\r\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, '');\r\n\t\t\t\t}\r\n\t\t\t\telse if (el.currentStyle) {\r\n\t\t\t\t\tval = el.currentStyle;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn prop === void 0 ? val : val[prop];\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (!(prop in style)) {\r\n\t\t\t\t\tprop = '-webkit-' + prop;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstyle[prop] = val + (typeof val === 'string' ? '' : 'px');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction _find(ctx, tagName, iterator) {\r\n\t\tif (ctx) {\r\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\r\n\r\n\t\t\tif (iterator) {\r\n\t\t\t\tfor (; i < n; i++) {\r\n\t\t\t\t\titerator(list[i], i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn list;\r\n\t\t}\r\n\r\n\t\treturn [];\r\n\t}\r\n\r\n\r\n\r\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\r\n\t\tsortable = (sortable || rootEl[expando]);\r\n\r\n\t\tvar evt = document.createEvent('Event'),\r\n\t\t\toptions = sortable.options,\r\n\t\t\tonName = 'on' + name.charAt(0).toUpperCase() + name.substr(1);\r\n\r\n\t\tevt.initEvent(name, true, true);\r\n\r\n\t\tevt.to = rootEl;\r\n\t\tevt.from = fromEl || rootEl;\r\n\t\tevt.item = targetEl || rootEl;\r\n\t\tevt.clone = cloneEl;\r\n\r\n\t\tevt.oldIndex = startIndex;\r\n\t\tevt.newIndex = newIndex;\r\n\r\n\t\trootEl.dispatchEvent(evt);\r\n\r\n\t\tif (options[onName]) {\r\n\t\t\toptions[onName].call(sortable, evt);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect, originalEvt) {\r\n\t\tvar evt,\r\n\t\t\tsortable = fromEl[expando],\r\n\t\t\tonMoveFn = sortable.options.onMove,\r\n\t\t\tretVal;\r\n\r\n\t\tevt = document.createEvent('Event');\r\n\t\tevt.initEvent('move', true, true);\r\n\r\n\t\tevt.to = toEl;\r\n\t\tevt.from = fromEl;\r\n\t\tevt.dragged = dragEl;\r\n\t\tevt.draggedRect = dragRect;\r\n\t\tevt.related = targetEl || toEl;\r\n\t\tevt.relatedRect = targetRect || toEl.getBoundingClientRect();\r\n\r\n\t\tfromEl.dispatchEvent(evt);\r\n\r\n\t\tif (onMoveFn) {\r\n\t\t\tretVal = onMoveFn.call(sortable, evt, originalEvt);\r\n\t\t}\r\n\r\n\t\treturn retVal;\r\n\t}\r\n\r\n\r\n\tfunction _disableDraggable(el) {\r\n\t\tel.draggable = false;\r\n\t}\r\n\r\n\r\n\tfunction _unsilent() {\r\n\t\t_silent = false;\r\n\t}\r\n\r\n\r\n\t/** @returns {HTMLElement|false} */\r\n\tfunction _ghostIsLast(el, evt) {\r\n\t\tvar lastEl = el.lastElementChild,\r\n\t\t\trect = lastEl.getBoundingClientRect();\r\n\r\n\t\t// 5  min delta\r\n\t\t// abs   ,      \r\n\t\treturn (\r\n\t\t\t(evt.clientY - (rect.top + rect.height) > 5) ||\r\n\t\t\t(evt.clientX - (rect.right + rect.width) > 5)\r\n\t\t) && lastEl;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Generate id\r\n\t * @param   {HTMLElement} el\r\n\t * @returns {String}\r\n\t * @private\r\n\t */\r\n\tfunction _generateId(el) {\r\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\r\n\t\t\ti = str.length,\r\n\t\t\tsum = 0;\r\n\r\n\t\twhile (i--) {\r\n\t\t\tsum += str.charCodeAt(i);\r\n\t\t}\r\n\r\n\t\treturn sum.toString(36);\r\n\t}\r\n\r\n\t/**\r\n\t * Returns the index of an element within its parent for a selected set of\r\n\t * elements\r\n\t * @param  {HTMLElement} el\r\n\t * @param  {selector} selector\r\n\t * @return {number}\r\n\t */\r\n\tfunction _index(el, selector) {\r\n\t\tvar index = 0;\r\n\r\n\t\tif (!el || !el.parentNode) {\r\n\t\t\treturn -1;\r\n\t\t}\r\n\r\n\t\twhile (el && (el = el.previousElementSibling)) {\r\n\t\t\tif ((el.nodeName.toUpperCase() !== 'TEMPLATE') && (selector === '>*' || _matches(el, selector))) {\r\n\t\t\t\tindex++;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n\tfunction _matches(/**HTMLElement*/el, /**String*/selector) {\r\n\t\tif (el) {\r\n\t\t\tselector = selector.split('.');\r\n\r\n\t\t\tvar tag = selector.shift().toUpperCase(),\r\n\t\t\t\tre = new RegExp('\\\\s(' + selector.join('|') + ')(?=\\\\s)', 'g');\r\n\r\n\t\t\treturn (\r\n\t\t\t\t(tag === '' || el.nodeName.toUpperCase() == tag) &&\r\n\t\t\t\t(!selector.length || ((' ' + el.className + ' ').match(re) || []).length == selector.length)\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tfunction _throttle(callback, ms) {\r\n\t\tvar args, _this;\r\n\r\n\t\treturn function () {\r\n\t\t\tif (args === void 0) {\r\n\t\t\t\targs = arguments;\r\n\t\t\t\t_this = this;\r\n\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tif (args.length === 1) {\r\n\t\t\t\t\t\tcallback.call(_this, args[0]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcallback.apply(_this, args);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\targs = void 0;\r\n\t\t\t\t}, ms);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tfunction _extend(dst, src) {\r\n\t\tif (dst && src) {\r\n\t\t\tfor (var key in src) {\r\n\t\t\t\tif (src.hasOwnProperty(key)) {\r\n\t\t\t\t\tdst[key] = src[key];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn dst;\r\n\t}\r\n\r\n\tfunction _clone(el) {\r\n\t\treturn $\r\n\t\t\t? $(el).clone(true)[0]\r\n\t\t\t: (Polymer && Polymer.dom\r\n\t\t\t\t? Polymer.dom(el).cloneNode(true)\r\n\t\t\t\t: el.cloneNode(true)\r\n\t\t\t);\r\n\t}\r\n\r\n\r\n\t// Export utils\r\n\tSortable.utils = {\r\n\t\ton: _on,\r\n\t\toff: _off,\r\n\t\tcss: _css,\r\n\t\tfind: _find,\r\n\t\tis: function (el, selector) {\r\n\t\t\treturn !!_closest(el, selector, el);\r\n\t\t},\r\n\t\textend: _extend,\r\n\t\tthrottle: _throttle,\r\n\t\tclosest: _closest,\r\n\t\ttoggleClass: _toggleClass,\r\n\t\tclone: _clone,\r\n\t\tindex: _index\r\n\t};\r\n\r\n\r\n\t/**\r\n\t * Create sortable instance\r\n\t * @param {HTMLElement}  el\r\n\t * @param {Object}      [options]\r\n\t */\r\n\tSortable.create = function (el, options) {\r\n\t\treturn new Sortable(el, options);\r\n\t};\r\n\r\n\r\n\t// Export\r\n\tSortable.version = '1.5.0-rc1';\r\n\treturn Sortable;\r\n});\r\n","class CardModal {\r\n\tconstructor() {\r\n\t\tthis.attr = {\r\n\t\t\t\r\n\t\t};\r\n\t\tthis.__events();\r\n\t}\r\n\tsetType() {\r\n\t\t\r\n\t}\r\n\t__events() {\r\n\r\n\t}\r\n}","class ContinueModal extends Modal {\r\n\tconstructor() {\r\n\t\tsuper('data-continue-modal');\r\n\t}\r\n\trestart() {\r\n\r\n\t}\r\n\tcontinue() {\r\n\r\n\t}\r\n}","class LanguageModal extends Modal {\r\n\tconstructor() {\r\n\t\tsuper('data-language-modal');\r\n\t}\r\n\tsave() {\r\n\t\t\r\n\t}\r\n}","class PlayerModal extends Modal {\r\n\tconstructor() {\r\n\t\tsuper('data-player-modal');\r\n\t\tthis.selfAttributes = {\r\n\t\t\tinput: 'data-player-input',\r\n\t\t\tbutton: 'data-player-create',\r\n\t\t\tsortable: 'data-player-sortable',\r\n\t\t\tsortableHandle: 'data-player-sortable-handle',\r\n\t\t\tplayer: 'data-playerlist-player'\r\n\t\t};\r\n\t\tthis.sortableNode = null;\r\n\t\tthis.attr = Object.assign(this.attr, this.selfAttributes);\r\n\t\tthis.players = 'data-playerlist-player';\r\n\t\tthis.classes = ['disabled'];\r\n\t}\r\n\tadd(event) {\r\n\t\tevent.preventDefault();\r\n\t\tlet name = $(`[${this.attr.input}]`).value,\r\n\t\t\tgender = this.getGender().value,\r\n\t\t\tplayer = null;\r\n\t\tif (App.manager.PlayerController.exist(name)) {\r\n\t\t\tApp.manager.Alert.show('error', Language[App.language].players.exist);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tApp.manager.PlayerController.create(name, gender);\r\n\t\tthis.render();\r\n\t}\r\n\tremove(event) {\r\n\t\tlet id = event.target.closest(`[${this.attr.player}]`).getAttribute(this.attr.player);\r\n\t\tApp.manager.PlayerController.remove(id);\r\n\t\tthis.render();\r\n\t}\r\n\trender() {\r\n\t\t$(`[${this.attr.self}]`).outerHTML = App.manager.Render.modalPlayers();\r\n\t\tthis.sortable();\r\n\t}\r\n\tsortable() {\r\n\t\tthis.sortableNode = new Sortable($(`[${this.attr.sortable}]`), {\r\n\t\t\tanimation: 150,\r\n\t\t\t// TODO Sort player on sort\r\n\t\t});\r\n\t}\r\n\teventCondition(node) {\r\n\t\treturn node.hasAttribute('data-player-input') &&\r\n\t\t\tnode.value.length > 0 &&\r\n\t\t\tthis.getGender();\r\n\t}\r\n\tcheckButton(event) {\r\n\t\t\tlet input = $(`[${this.attr.input}]`);\r\n\t\t\tif (this.eventCondition(input))\r\n\t\t\t\t$(`[${this.attr.button}]`).classList.remove(this.classes[0]);\r\n\t\t\telse\r\n\t\t\t\t$(`[${this.attr.button}]`).classList.add(this.classes[0]);\r\n\t}\r\n\tgetGender() {\r\n\t\treturn $('[name=\"players_gender\"]:checked');\r\n\t}\r\n\t__events() {\r\n\t\t['keyup', 'mousedown', 'change'].forEach((e) => {\r\n\t\t\tdocument.addEventListener(e, (event) => {\r\n\t\t\t\tthis.checkButton();\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n","class RubricsModal extends Modal {\r\n\tconstructor() {\r\n\t\tsuper('data-rubric-modal');\r\n\t\tthis.selfAttributes = {\r\n\t\t\trubrics: 'name=\"rubrics\"',\r\n\t\t\tname: 'name'\r\n\t\t}\r\n\t\tthis.nameValue = 'rubrics';\r\n\t\tthis.attr = Object.assign(this.attr, this.selfAttributes);\r\n\t}\r\n\tsave() {\r\n\r\n\t}\r\n\tchange() {\r\n\t\tApp.data.rubrics = [];\r\n\t\t$$(`[${this.attr.rubrics}]:checked`).array().forEach((checked) => {\r\n\t\t\tApp.data.rubrics.push(checked.value);\r\n\t\t});\r\n\t\tthis.updateView();\r\n\t}\r\n\tbeforeNext() {\r\n\t\tthis.save();\r\n\t}\r\n\trender() {\r\n\t\tthis.getView().outerHTML = App.manager.Render.modalRubrics();\r\n\t}\r\n\tupdateView() {\r\n\t\tlet view = this.getView();\r\n\t\tview.$('footer').outerHTML = App.manager.Render.rubricsFooter();\r\n\t\tview.setAttribute(this.attr.status, App.data.rubrics.length >= 1);\r\n\t}\r\n\t__events() {\r\n\t\tdocument.addEventListener('change', (e) => {\r\n\t\t\tif (e.target.getAttribute(this.attr.name) === this.nameValue) {\r\n\t\t\t\tthis.change();\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n","class RulesModal extends Modal {\r\n\tconstructor() {\r\n\t\tsuper('data-rules-modal');\r\n\t}\r\n\tstart() {\r\n\t\tApp.manager.Modals.hide();\r\n\t\tApp.manager.Game.start();\r\n\t}\r\n}","class SettingsModal extends Modal {\r\n\tconstructor() {\r\n\t\tsuper('data-settings-modal');\r\n\t\tthis.selfAttributes = {\r\n\t\t\tbinded: 'data-bind',\r\n\t\t\ttype: 'type'\r\n\t\t};\r\n\t\tthis.INPUT_TYPES = Object.freeze({\r\n\t\t\tCHECKBOX: 'checkbox'\r\n\t\t});\r\n\t\tthis.attr = Object.assign(this.attr, this.selfAttributes);\r\n\t\tthis.__events();\r\n\t}\r\n\thandleBind(binded) {\r\n\t\tlet parsed = this.parse(binded.getAttribute(this.attr.binded)),\r\n\t\t\tvalue = null;\r\n\t\ttry {\r\n\t\t\tvalue = JSON.parse(binded.value);\r\n\t\t} catch(e) {\r\n\t\t\tvalue = binded.value;\r\n\t\t}\r\n\t\tif (Array.isArray(parsed)) {\r\n\t\t\tApp.data.settings[parsed[0]][parsed[1]] = value;\r\n\t\t} else {\r\n\t\t\tApp.data.settings[parsed] = value;\r\n\t\t}\r\n\t}\r\n\tparse(attr) {\r\n\t\tlet splited = attr.split('-');\r\n\t\treturn splited.length === 1 ? splited[0] : splited;\r\n\t}\r\n\tsetSettings() {\r\n\t\tlet binded = $$(`\r\n\t\t\t[${this.attr.binded}]:checked,\r\n\t\t\t[${this.attr.binded}][${this.attr.type}=\"${this.INPUT_TYPES.CHECKBOX}\"]\r\n\t\t`).array();\r\n\t\tbinded.forEach(bind => {\r\n\t\t\tthis.handleBind(bind);\r\n\t\t});\r\n\t}\r\n\tsetValue(node) {\r\n\t\tnode.value = node.checked;\r\n\t}\r\n\trender() {\r\n\t\tthis.getView().outerHTML = App.manager.Render.modalSettings();\r\n\t}\r\n\t__events() {\r\n\t\tdocument.addEventListener('change', (event) => {\r\n\t\t\tlet target = event.target;\r\n\t\t\tif (target.hasAttribute(this.attr.binded)) {\r\n\t\t\t\tif (target.getAttribute(this.attr.type) === this.INPUT_TYPES.CHECKBOX) this.setValue(target);\r\n\t\t\t\tthis.setSettings();\r\n\t\t\t}\r\n\t\t}, false);\r\n\t}\r\n}\r\n"],"sourceRoot":"/source/"}